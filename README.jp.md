# distix PoC1

本リポジトリは，LinuxディストリビューションのSBOMを活用するための実験的な実装です．
distix projectのコアコンポーネントであるdistixで生成できるOneSystem SBOMでは，システムにインストールされているパッケージがコンポーネントとして記載され，またそれらのパッケージの依存関係も記載されています．
ほかの既存のSBOMジェネレータでも生成できるLinuxディストリビューションを対象として生成した多くのSBOMでも同様です．

とくにLinuxディストリビューションでSBOMを活用する場合，単純な脆弱性検出のみではSBOMが持つポテンシャルを十分に活かしきれていないと感じます．
本リポジトリの実験的実装は，新たなSBOM活用を提案するものです．
また，ここでは活用対象をLinuxディストリビューションに絞っていますが，その情報解析のプロセスは一般的なものであり，SBOMの対象物が変わっても同様のアプローチをSBOMの活用を図れるものと考えます．

本リポジトリでは，その依存関係を活用してユーザーに有用な情報を提供するための実験的実装を行います．
distix projectや本実装では活用対象をLinuxディストリビューションに絞っていますが，その情報解析のプロセスは一般的なものであり，SBOMの対象物が変わっても同様のアプローチをSBOMの活用を図れるものと考えます．

## Overview of This PoC

distix projectで生成するOneSystem SBOMをはじめとし，Linuxディストリビューションを対象に生成されるSBOMでは，そのコンポーネントはパッケージレベルで表現され，またそれらの依存関係が記載されています．
SBOMには，あるコンポーネントから別のコンポーネントへの依存の1対1関係が記載されているため，SBOMを直接的に解釈することにより，直接的な依存関係を簡単に把握することができます．
また，この依存関係を再帰的にたどることにより，間接的な依存関係も把握することができます．

本PoCでは上記のように依存関係を解釈して，特定のコンポーネントに直接・間接問わず依存しているコンポーネントを検出し，その依存の深さとともに表示しています．

とくにLinuxディストリビューションが動作するシステムでは，脆弱性が検出されその修正パッチがリリースされたとしても，簡単に適用できないケースが存在します．
その際，脆弱性が確認されたパッケージがほかのどのようなパッケージから依存されているかを把握することは，パッチの適用要否を判断するうえで一つの材料として活用できるのではないかと考えます．


本PoCでは，SBOMそれ自体ではなく，SBOMを有向グラフ(DOT)に変換するユーティリティを用いて有向グラフへと変換したものを入力として使用します．
そしてその有向グラフを解析し，再帰的に依存関係を解析します．


## Getting Started

0. Setting up your Go env..

1. Clone & move to this repository
```
$ git clone https://github.com/distix-pj/PoC1.git & cd $_
```

2. Install dependencies

```
$
```

3. Run command as script
```
$ go run cmd/poc1/main.go --help
```

4. or Build & run binary
```
$ go build
$ ./poc1 --help
```

## Command Usage

--input-fileにSBOMファイルを変換したDOTファイルを指定します．
--packageに，依存関係を解析したいコンポーネント名を記載します．

```
$ go run cmd/poc1/main.go --input-file poc1.spdx.dot --package bash 
```

